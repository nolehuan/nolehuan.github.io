{"title":"freopen","uid":"0743a9436352de52ce0648750c1f5616","slug":"cpp/freopen","date":"2023-12-30T12:09:29.000Z","updated":"2023-12-30T04:43:04.853Z","comments":true,"path":"api/articles/cpp/freopen.json","cover":null,"content":"<p>拒绝三方库日志霸屏</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">freopen</span>(<span class=\"string\">&quot;log.txt&quot;</span>, <span class=\"string\">&quot;w&quot;</span>, stdout);</span><br><span class=\"line\">  <span class=\"built_in\">freopen</span>(<span class=\"string\">&quot;error.txt&quot;</span>, <span class=\"string\">&quot;w&quot;</span>, stderr);</span><br><span class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;out\\n&quot;</span>);</span><br><span class=\"line\">  <span class=\"built_in\">perror</span>(<span class=\"string\">&quot;error&quot;</span>);</span><br><span class=\"line\">  <span class=\"built_in\">freopen</span>(<span class=\"string\">&quot;/dev/tty&quot;</span>, <span class=\"string\">&quot;w&quot;</span>, stdout);</span><br><span class=\"line\">  <span class=\"built_in\">freopen</span>(<span class=\"string\">&quot;/dev/tty&quot;</span>, <span class=\"string\">&quot;w&quot;</span>, stderr);</span><br><span class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;out\\n&quot;</span>);</span><br><span class=\"line\">  <span class=\"built_in\">perror</span>(<span class=\"string\">&quot;error&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">g++ -o <span class=\"built_in\">log</span> log.cc</span> </span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">./log</span> </span><br><span class=\"line\">out</span><br><span class=\"line\">error: Invalid argument</span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"built_in\">cat</span> log.txt</span> </span><br><span class=\"line\">out</span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"built_in\">cat</span> error.txt</span> </span><br><span class=\"line\">error: Success</span><br></pre></td></tr></table></figure>\n<p><code>perror</code> 将上一个函数发生错误的原因输出到标准设备<code>stderr</code>，打印字符串后加<code>errno</code>对应的错误原因字符串，无错误则打印<code>Success</code></p>\n","feature":false,"text":"redirect...","permalink":"/post/cpp/freopen","photos":[],"count_time":{"symbolsCount":600,"symbolsTime":"1 mins."},"categories":[{"name":"linux","slug":"linux","count":3,"path":"api/categories/linux.json"}],"tags":[{"name":"c","slug":"c","count":1,"path":"api/tags/c.json"}],"toc":"","author":{"name":"NoleHuan","slug":"blog-author","avatar":"/img/tennis_logo.svg","link":"/","description":"The true nature of a heart is seen in its response to the unattractive.","socials":{"github":"https://github.com/nolehuan","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/5948495997","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"interview","uid":"b988af6f31f47d8c6d6425d0c29bbbe5","slug":"learning/interview","date":"2023-12-31T15:55:29.000Z","updated":"2024-01-01T08:39:46.536Z","comments":true,"path":"api/articles/learning/interview.json","cover":[],"text":"interview review...","permalink":"/post/learning/interview","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[{"name":"learning","slug":"learning","count":6,"path":"api/categories/learning.json"}],"tags":[{"name":"CNN","slug":"CNN","count":1,"path":"api/tags/CNN.json"}],"author":{"name":"NoleHuan","slug":"blog-author","avatar":"/img/tennis_logo.svg","link":"/","description":"The true nature of a heart is seen in its response to the unattractive.","socials":{"github":"https://github.com/nolehuan","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/5948495997","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":false},"next_post":{"title":"elf","uid":"e0bcc7841199a311c03a49e060ae24e8","slug":"linux/elf","date":"2023-12-23T17:40:29.000Z","updated":"2023-12-24T03:05:28.084Z","comments":true,"path":"api/articles/linux/elf.json","cover":[],"text":"layout...","permalink":"/post/linux/elf","photos":[],"count_time":{"symbolsCount":"4.9k","symbolsTime":"4 mins."},"categories":[{"name":"linux","slug":"linux","count":3,"path":"api/categories/linux.json"}],"tags":[{"name":"cpp","slug":"cpp","count":4,"path":"api/tags/cpp.json"}],"author":{"name":"NoleHuan","slug":"blog-author","avatar":"/img/tennis_logo.svg","link":"/","description":"The true nature of a heart is seen in its response to the unattractive.","socials":{"github":"https://github.com/nolehuan","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/5948495997","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":false}}